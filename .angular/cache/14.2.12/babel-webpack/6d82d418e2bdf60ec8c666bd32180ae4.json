{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet Home = class Home {\n  constructor(title, meta, servicesService, formBuilder) {\n    this.title = title;\n    this.meta = meta;\n    this.servicesService = servicesService;\n    this.formBuilder = formBuilder;\n    this.createEquipoForm = new FormGroup({\n      nombre: new FormControl('', [Validators.required]),\n      estadio: new FormControl('', [Validators.required]),\n      sitioWeb: new FormControl('', [Validators.required]),\n      nacionalidad: new FormControl('', [Validators.required]),\n      fundacion: new FormControl('', [Validators.required]),\n      entrenador: new FormControl('', [Validators.required]),\n      capacidad: new FormControl(0, [Validators.required]),\n      valor: new FormControl(0, [Validators.required])\n    });\n    this.editEquipoForm = new FormGroup({\n      id: new FormControl(0, [Validators.required]),\n      nombre: new FormControl('', [Validators.required]),\n      estadio: new FormControl('', [Validators.required]),\n      sitioWeb: new FormControl('', [Validators.required]),\n      nacionalidad: new FormControl('', [Validators.required]),\n      fundacion: new FormControl('', [Validators.required]),\n      entrenador: new FormControl('', [Validators.required]),\n      capacidad: new FormControl(0, [Validators.required]),\n      valor: new FormControl(0, [Validators.required])\n    });\n    this.title.setTitle('FIFA');\n    this.meta.addTags([{\n      property: 'og:title',\n      content: 'FIFA'\n    }]);\n  }\n\n  ngOnInit() {\n    this.getEquipos();\n  }\n\n  getEquipos(page = 0) {\n    this.servicesService.getEquipos(page).subscribe(data => {\n      // console.log(data);\n      this.equiposLista = data; // this.currentPage = data.number;\n      // console.log(this.equiposLista)\n    }, error => {});\n  }\n\n  getEquipoById() {\n    this.servicesService.getEquipoById(this.editEquipoForm.value.id).subscribe(data => {\n      // console.log(data);\n      const equipo = data;\n      console.log(equipo);\n      this.editEquipoForm.patchValue({\n        nombre: equipo.nombre,\n        estadio: equipo.estadio,\n        sitioWeb: equipo.sitioWeb,\n        nacionalidad: equipo.nacionalidad,\n        fundacion: equipo.fundacion,\n        entrenador: equipo.entrenador,\n        capacidad: equipo.capacidad,\n        valor: equipo.valor\n      });\n      console.log(equipo);\n    }, error => {});\n  }\n\n  onPageChange(newPage) {\n    this.currentPage = newPage;\n    this.getEquipos(newPage);\n  }\n\n  pageNumbers() {\n    const pages = [];\n\n    for (let i = this.equiposLista.number; i < this.equiposLista.number + 5; i++) {\n      pages.push(i);\n    }\n\n    return pages;\n  }\n\n  submitForm() {\n    const formData = {\n      nombre: this.createEquipoForm.value.nombre,\n      estadio: this.createEquipoForm.value.estadio,\n      sitioWeb: this.createEquipoForm.value.sitioWeb,\n      nacionalidad: this.createEquipoForm.value.nacionalidad,\n      fundacion: this.createEquipoForm.value.fundacion,\n      entrenador: this.createEquipoForm.value.entrenador,\n      capacidad: this.createEquipoForm.value.capacidad,\n      valor: this.createEquipoForm.value.valor\n    };\n    console.log(formData);\n    this.servicesService.postEquipos(formData).subscribe(data => {\n      console.log(data);\n      this.getEquipos();\n    });\n  }\n\n  clearForm() {\n    this.createEquipoForm.reset();\n    this.editEquipoForm.reset();\n  }\n\n  editEquipo() {\n    const formData = {\n      id: this.editEquipoForm.value.id,\n      nombre: this.editEquipoForm.value.nombre,\n      estadio: this.editEquipoForm.value.estadio,\n      sitioWeb: this.editEquipoForm.value.sitioWeb,\n      nacionalidad: this.editEquipoForm.value.nacionalidad,\n      fundacion: this.editEquipoForm.value.fundacion,\n      entrenador: this.editEquipoForm.value.entrenador,\n      capacidad: this.editEquipoForm.value.capacidad,\n      valor: this.editEquipoForm.value.valor\n    };\n    this.servicesService.putEquipos(formData).subscribe(data => {\n      console.log(data);\n      this.getEquipos();\n    }, error => {\n      console.log(error);\n    });\n  } // deleteEquipos(id: number) {\n  //   this.servicesService.deleteEquipos(id).subscribe(() => {\n  //     this.equiposLista = this.equiposLista.filter(\n  //       (equiposLista: { id: number }) => equiposLista.id !== id\n  //     );\n  //     // this.selectedBanner = null;\n  //   });\n  // }\n\n\n  deleteEquipos(equipo) {\n    this.servicesService.deleteEquipos(equipo).subscribe(data => {\n      this.getEquipos();\n    }, error => {});\n  }\n\n};\nHome = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: 'home.component.html',\n  styleUrls: ['home.component.css']\n})], Home);\nexport { Home };","map":null,"metadata":{},"sourceType":"module"}